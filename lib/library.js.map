{"version":3,"sources":["webpack://library/webpack/universalModuleDefinition","webpack://library/webpack/bootstrap","webpack://library/./src/components/listVideoComponent.js","webpack://library/./src/components/paginator.js","webpack://library/./src/components/searchComponent.js","webpack://library/./src/components/videoPlayerComponent.js","webpack://library/./src/connection.js","webpack://library/./src/helpers.js","webpack://library/./src/index.js","webpack://library/./src/middleware.js","webpack://library/./src/renderEngine.js","webpack://library/./src/requestProcessor.js","webpack://library/./src/tagQueryMap.js"],"names":["ListComponent","constructor","requestProcessor","middleware","paginator","renderEngine","deps","templateList","helpers","listVideos","label","options","template","urlVideoTags","actions","getUrlParam","element","list","action","pagination","filterList","dataset","tags","length","query","preRenderActions","that","renderVids","videoList","render","postRenderActions","loaderLabel","aweList","processor","response","data","videos","Paginator","listComponent","tagQueryMap","pageData","paginators","pagertemplate","pagerLength","paginatorSize","totalPages","querySelector","raw","prevBtn","nextBtn","innerHTML","pager","currentPage","startFrom","endAt","generatePager","prevCount","parseInt","appendChild","cloneNode","onclick","flipPageFunc","i","liveTemplate","classList","add","remove","nextCount","count","pageIndex","SearchComponent","prepareSearchEvent","searchBtnElement","listLabel","aweSearchBtn","getElement","searchWords","value","split","replace","VideoPlayerComponent","env","playVideo","playerId","Math","random","dataSets","urlParams","URLSearchParams","location","search","connectionObj","videoId","get","videoid","aweContainerId","playerEmbedUrl","console","error","awePlayer","log","url","URL","contentHash","searchParams","container","document","warn","removeAttribute","params","queryToParams","psid","accessKey","iframeElement","createElement","src","style","width","height","frameBorder","setAttribute","prepend","exception","message","connectionEl","querySelectorAll","connections","awePsid","aweAccesskey","clientIp","aweClientip","hideElement","display","showElement","showOrHideComponent","componentTag","dataSet","componentList","forEach","component","removeLoader","tag","showLoader","hidePaginator","showPaginator","getLabel","componentType","labelKey","refined","savePaginatorTemplate","currentCount","wantedLength","pageSplit","leftCount","floor","rightCount","round","param","url_string","window","href","getRandomArr","arr","n","result","Array","len","taken","RangeError","x","replaceAll","target","replacement","join","str","p","hasOwnProperty","push","encodeURIComponent","onload","listElements","players","searchBtnList","tagList","Middleware","RequestProcessor","RenderEngine","videoPlayerComponent","searchComponent","payload","toLowerCase","dataGrp","prepTemplate","completeTemplate","key","innerData","key2","parseFloat","toFixed","config","filters","callback","Object","assign","info","requestConfig","method","credentials","headers","fetch","then","json","catch","player","searchBtn","searchInp","connection","loader","pageNumbers","pagePrevious","pageNext"],"mappings":"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","file":"library.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"library\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory();\n\telse\n\t\troot[\"library\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","class ListComponent {\n  constructor(requestProcessor, middleware, paginator, renderEngine, deps) {\n    this.templateList = deps.templateList;\n    this.helpers = deps.helpers;\n    this.requestProcessor = requestProcessor;\n    this.middleware = middleware;\n    this.renderEngine = renderEngine;\n    this.paginator = new paginator(this, deps);\n  }\n  listVideos(label, options, template) {\n    var helpers = this.helpers;\n    var templateList = this.templateList;\n    var middleware = this.middleware;\n    var paginator = this.paginator;\n    var urlVideoTags = helpers.actions.getUrlParam(\"videoTags\");\n    options = options ? options : {};\n    var element = templateList.list[label].element;\n    if (!element) {\n      throw `Sorry but no element was found with for the label ${label}`;\n    }\n    var action = \"list\";\n    var pagination = options.pagination;\n    delete options.pagination;\n    var filterList = options.filterList ? options.filterList : element.dataset;\n\n    if (urlVideoTags) {\n      filterList.tags =\n        filterList.tags && filterList.tags.length\n          ? filterList.tags + \",\" + urlVideoTags\n          : (filterList.tags = urlVideoTags);\n    }\n    var query = {};\n    middleware.preRenderActions({ element: element }, action);\n    var that = this;\n    var renderVids = function(videoList, filterList, template) {\n      that.renderEngine.render(element, videoList, template);\n      middleware.postRenderActions({\n        element: element,\n        loaderLabel: filterList.aweList\n      });\n    };\n    if (options.videoList) {\n      paginator.render(label, options.pagination, filterList);\n      return renderVids(videoList, filterList, template);\n    }\n    this.requestProcessor.processor(action, filterList, function(response) {\n      var videoList = response.data.videos;\n      paginator.render(label, response.data.pagination, filterList);\n      renderVids(videoList, filterList, template);\n    });\n  }\n}\n\nexport { ListComponent };\n","class Paginator {\n  constructor(listComponent, deps) {\n    this.tagQueryMap = deps.tagQueryMap;\n    this.helpers = deps.helpers;\n    this.templateList = deps.templateList;\n    this.listVideos = listComponent.listVideos;\n  }\n  render(label, pageData, filterList) {\n    if (!this.templateList.paginators[label]) {\n      return;\n    }\n    var templateList = this.templateList;\n    var element = templateList.paginators[label].element;\n    var pagertemplate = templateList.paginators[label].template;\n    var pagerLength = element.dataset.pagerLength;\n    var paginatorSize = pagerLength ? pagerLength : 7;\n    var paginatorSize =\n      pageData.totalPages < paginatorSize ? pageData.totalPages : paginatorSize;\n\n    var template = pagertemplate.querySelector(\n      `[${this.tagQueryMap[\"pageNumbers\"].raw}]`\n    );\n    var prevBtn = pagertemplate.querySelector(\n      `[${this.tagQueryMap[\"pagePrevious\"].raw}]`\n    );\n    var nextBtn = pagertemplate.querySelector(\n      `[${this.tagQueryMap[\"pageNext\"].raw}]`\n    );\n    element.innerHTML = \"\";\n    var pager =\n      pageData.currentPage < paginatorSize\n        ? { startFrom: 1, endAt: paginatorSize }\n        : this.helpers.actions.generatePager(\n            pageData.currentPage,\n            paginatorSize\n          );\n    var prevCount = parseInt(pageData.currentPage) - 1;\n    if (prevBtn && prevCount > 0) {\n      element.appendChild(prevBtn.cloneNode(true)).onclick = this.flipPageFunc(\n        label,\n        filterList,\n        prevCount\n      );\n    }\n    for (var i = pager.startFrom; i <= parseInt(pager.endAt); i++) {\n      if (parseInt(pageData.totalPages) == i) {\n        break;\n      }\n      var liveTemplate = template.cloneNode(true);\n      liveTemplate.innerHTML = i;\n      pageData.currentPage == i\n        ? liveTemplate.classList.add(\"active\")\n        : liveTemplate.classList.remove(\"active\");\n\n      liveTemplate.onclick = this.flipPageFunc(label, filterList, i);\n      element.appendChild(liveTemplate);\n    }\n    var nextCount = pageData.currentPage + 1;\n    if (nextBtn && nextCount < pageData.totalPages) {\n      element.appendChild(nextBtn.cloneNode(true)).onclick = this.flipPageFunc(\n        label,\n        filterList,\n        nextCount\n      );\n    }\n  }\n  flipPageFunc(label, options, count) {\n    var that = this;\n    return function() {\n      options.pageIndex = count;\n      var template = that.templateList.list[label].template.innerHTML;\n      that.listVideos(label, options, template);\n    };\n  }\n}\n\nexport { Paginator };\n","class SearchComponent {\n  constructor(listComponent, deps) {\n    this.templateList = deps.templateList;\n    this.helpers = deps.helpers;\n    this.listComponent = listComponent;\n  }\n  prepareSearchEvent(searchBtnElement) {\n    var that = this;\n    searchBtnElement.onclick = function() {\n      var helpers = that.helpers;\n      var templateList = that.templateList;\n      var listComponent = that.listComponent;\n\n      var listLabel = this.dataset.aweSearchBtn;\n      var template = templateList.list[listLabel].template.innerHTML;\n      templateList.list[listLabel].element.dataset.pageIndex = 1;\n      var filterList = templateList.list[listLabel].element.dataset;\n      var element = helpers.actions.getElement(listLabel, \"searchInp\");\n      if (!element) {\n        throw `Sorry but it looks like you don't have a search box in place for search ie: <input data-awe-search=\"popular\" />`;\n      }\n      var searchWords = element.value;\n      filterList.tags =\n        searchWords.split(\" \").length == 2\n          ? searchWords\n          : searchWords.replace(/ /g, \",\");\n      listComponent.listVideos(\n        listLabel,\n        {\n          filterList: filterList\n        },\n        template\n      );\n    };\n  }\n}\n\nexport { SearchComponent };\n","class VideoPlayerComponent {\n  constructor(requestProcessor, renderEngine, middleware, helpers, deps) {\n    this.middleware = middleware;\n    this.requestProcessor = requestProcessor;\n    this.renderEngine = renderEngine;\n    this.helpers = helpers;\n    this.env = deps.env;\n  }\n  playVideo(element) {\n    const playerId = Math.random();\n    var dataSets = element.dataset;\n    var urlParams = new URLSearchParams(location.search);\n    var middleware = this.middleware;\n    var helpers = this.helpers;\n    var connectionObj = this.env;\n    var videoId = urlParams.get(\"videoId\")\n      ? urlParams.get(\"videoId\")\n      : dataSets.videoid;\n\n    if (!videoId) {\n      return;\n    }\n\n    element.dataset.aweContainerId = playerId;\n    element.classList.add(\"awe-player\");\n    middleware.preRenderActions({ element: element }, \"player\");\n    var that = this;\n    this.requestProcessor.processor(\"details/\" + videoId, dataSets, function(\n      response\n    ) {\n      if (!response.data.playerEmbedUrl) {\n        console.error(\"contentHash could not be resolved\");\n      }\n      that.renderEngine.render(element, [response.data]);\n      middleware.postRenderActions({\n        element: element,\n        loaderLabel: element.dataset.awePlayer\n      });\n      console.log(that);\n\n      var url = new URL(response.data.playerEmbedUrl);\n      var contentHash = url.searchParams.get(\"contentHash\");\n      try {\n        var container = (function() {\n          var container = document.querySelector(\n            `div[data-awe-container-id=\"${playerId}\"]`\n          );\n\n          if (!container) {\n            console.warn(\"Promotool container not found\");\n\n            return container;\n          }\n\n          container.removeAttribute(\"data-awe-container-id\");\n          return container;\n        })();\n        var params = that.helpers.actions.queryToParams(dataSets);\n        var psid = connectionObj.psid;\n        var accessKey = connectionObj.accessKey;\n        var iframeElement = document.createElement(\"iframe\");\n        iframeElement.src = `//pt.protoawe.com/tube-player/${params}&psid=${psid}&accessKey=${accessKey}&contentHash=${contentHash}&psprogram=REVS&c=p`;\n        iframeElement.style.width = \"100%\";\n        iframeElement.style.height = \"100%\";\n        iframeElement.frameBorder = 0;\n        iframeElement.setAttribute(\"allowfullscreen\", \"true\");\n\n        container.prepend(iframeElement);\n      } catch (exception) {\n        console.error(\"Promotool error: \" + exception.message);\n      }\n    });\n  }\n}\n\nexport { VideoPlayerComponent };\n","import { tagQueryMap } from \"tagQueryMap\";\nvar connectionEl = document.querySelectorAll(\n  `[${tagQueryMap[\"connection\"].raw}]`\n);\nif (!connectionEl.length) {\n  throw \"Sorry but you need to set your connection details\";\n}\nconst connections = connectionEl[0].dataset;\nconst connectionObj = {\n  psid: connections.awePsid,\n  accessKey: connections.aweAccesskey,\n  clientIp: connections.aweClientip\n};\n\nexport { connectionObj as env };\n","var helpers = {};\n\n//style changes\nhelpers.style = {\n  hideElement: function(element) {\n    element.style.display = \"none\";\n  },\n  showElement: function(element) {\n    element.style.display = \"\";\n  }\n};\n\n//actions\nhelpers.actions = {\n  showOrHideComponent: function(componentTag, action, dataSet, label) {\n    var componentList = document.querySelectorAll(`[${componentTag}=${label}]`);\n    componentList.forEach(component => {\n      action == \"hide\"\n        ? helpers.style.hideElement(component)\n        : helpers.style.showElement(component);\n    });\n  },\n  removeLoader: function(label) {\n    helpers.actions.showOrHideComponent(\n      helpers.tagQueryMap[\"loader\"].raw,\n      \"hide\",\n      {\n        tag: \"aweLoader\"\n      },\n      label\n    );\n  },\n  showLoader: function(label) {\n    helpers.actions.showOrHideComponent(\n      helpers.tagQueryMap[\"loader\"].raw,\n      \"show\",\n      {\n        tag: \"aweLoader\"\n      },\n      label\n    );\n  },\n  hidePaginator: function(label) {\n    helpers.actions.showOrHideComponent(\n      helpers.tagQueryMap[\"pagination\"].raw,\n      \"hide\",\n      {\n        tag: \"awePaginate\"\n      },\n      label\n    );\n  },\n  showPaginator: function(label) {\n    helpers.actions.showOrHideComponent(\n      helpers.tagQueryMap[\"pagination\"].raw,\n      \"show\",\n      {\n        tag: \"awePaginate\"\n      },\n      label\n    );\n  },\n  getLabel: function(element, componentType) {\n    var labelKey = helpers.tagQueryMap[componentType].refined;\n    return element.dataset[labelKey];\n  },\n  getElement: function(label, componentType) {\n    return document.querySelector(\n      `[${helpers.tagQueryMap[componentType].raw}=${label}]`\n    );\n  },\n  savePaginatorTemplate: function(label, templateList) {\n    var element = document.querySelector(\n      `[${helpers.tagQueryMap[\"pagination\"].raw}=${label}]`\n    );\n    if (!element) {\n      return false;\n    }\n    templateList.paginators[label] = {};\n    templateList.paginators[label].element = element;\n    templateList.paginators[label].template = element.cloneNode(true);\n    return templateList;\n  },\n  generatePager: function(currentCount, wantedLength) {\n    var pageSplit = wantedLength / 2;\n    var leftCount = Math.floor(pageSplit);\n    var rightCount = Math.round(pageSplit);\n    var startFrom =\n      currentCount > leftCount ? currentCount - leftCount : currentCount;\n    var endAt = currentCount + rightCount - 1;\n    endAt =\n      endAt - startFrom != wantedLength\n        ? parseInt(startFrom) + parseInt(wantedLength) - 1\n        : endAt;\n    return { startFrom: startFrom, endAt: endAt };\n  },\n  getUrlParam: function(param) {\n    var url_string = window.location.href;\n    var url = new URL(url_string);\n    return url.searchParams.get(param);\n  },\n  getRandomArr: function(arr, n) {\n    var result = new Array(n),\n      len = arr.length,\n      taken = new Array(len);\n    if (n > len)\n      throw new RangeError(\"getRandom: more elements taken than available\");\n    while (n--) {\n      var x = Math.floor(Math.random() * len);\n      result[n] = arr[x in taken ? taken[x] : x];\n      taken[x] = --len in taken ? taken[len] : len;\n    }\n    return result;\n  },\n\n  replaceAll: function(target, search, replacement) {\n    return target.split(search).join(replacement);\n  },\n  queryToParams: function(query) {\n    var str = [];\n    for (var p in query)\n      if (query.hasOwnProperty(p)) {\n        str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(query[p]));\n      }\n    return \"?\" + str.join(\"&\");\n  }\n};\n\nexport { helpers };\n","import { env } from \"connection\";\nimport { helpers } from \"helpers\";\nimport { Middleware } from \"middleware\";\nimport { tagQueryMap } from \"tagQueryMap\";\nimport { RenderEngine } from \"renderEngine\";\nimport { Paginator } from \"components/paginator\";\nimport { RequestProcessor } from \"requestProcessor\";\nimport { ListComponent } from \"components/listVideoComponent\";\nimport { SearchComponent } from \"components/searchComponent\";\nimport { VideoPlayerComponent } from \"components/videoPlayerComponent\";\nwindow.onload = function() {\n  var listElements = document.querySelectorAll(`[${tagQueryMap[\"list\"].raw}]`);\n  var players = document.querySelectorAll(`[${tagQueryMap[\"player\"].raw}]`);\n  var searchBtnList = document.querySelectorAll(\n    `[${tagQueryMap[\"searchBtn\"].raw}]`\n  );\n  var tagList = document.querySelectorAll(`[${tagQueryMap[\"tags\"].raw}]`);\n\n  var templateList = { list: {}, paginators: {} };\n  if (!listElements.length && !players.length) {\n    return;\n  }\n\n  helpers.tagQueryMap = tagQueryMap;\n  var deps = {\n    tagQueryMap: tagQueryMap,\n    helpers: helpers,\n    templateList: templateList,\n    env: env\n  };\n  var middleware = new Middleware(deps);\n  var requestProcessor = new RequestProcessor(deps);\n  var renderEngine = new RenderEngine(deps);\n  var listComponent = new ListComponent(\n    requestProcessor,\n    middleware,\n    Paginator,\n    renderEngine,\n    deps\n  );\n  var videoPlayerComponent = new VideoPlayerComponent(\n    requestProcessor,\n    renderEngine,\n    middleware,\n    helpers,\n    deps\n  );\n  var searchComponent = new SearchComponent(listComponent, deps);\n\n  listElements.forEach(element => {\n    middleware.preRenderActions({ element: element }, \"list\");\n    var label = helpers.actions.getLabel(element, \"list\");\n    templateList = helpers.actions.savePaginatorTemplate(label, templateList);\n    listComponent.listVideos(label);\n  });\n\n  players.forEach(element => {\n    videoPlayerComponent.playVideo(element);\n  });\n  searchBtnList.forEach(searchBtnElement => {\n    searchComponent.prepareSearchEvent(searchBtnElement);\n  });\n\n  //Tags to be added later\n  // tagList.forEach(element => {\n  //   middleware.preRenderActions({ element: element }, \"tags\");\n  //   var label = helpers.actions.getLabel(element, \"tags\");\n  //   listTags(label);\n  // });\n};\n","//actions to preform before rendering\nclass Middleware {\n  constructor(deps) {\n    this.tagQueryMap = deps.tagQueryMap;\n    this.templateList = deps.templateList;\n    this.helpers = deps.helpers;\n  }\n  preRenderActions(payload, componentType) {\n    var templateList = this.templateList;\n    var helpers = this.helpers;\n    var label =\n      payload.element.dataset[this.tagQueryMap[componentType].refined];\n    if (!label) {\n      throw 'Sorry but you need to label your list template eg: `data-awe-list=\"popular\"`';\n    }\n    label = label.toLowerCase();\n    if (!templateList.list[label]) {\n      templateList.list[label.toLowerCase()] = {\n        element: payload.element,\n        template: payload.element.cloneNode(true),\n        data: payload.data\n      };\n    }\n    helpers.actions.showLoader(label);\n    helpers.actions.hidePaginator(label);\n    helpers.style.hideElement(payload.element);\n  }\n\n  //actions to preform after rendering\n  postRenderActions(payload) {\n    var helpers = this.helpers;\n    helpers.actions.removeLoader(payload.loaderLabel);\n    helpers.actions.showPaginator(payload.loaderLabel);\n    helpers.style.showElement(payload.element);\n  }\n}\n\nexport { Middleware };\n","class RenderEngine {\n  //responsible for rendering list views\n  constructor(deps) {\n    this.helpers = deps.helpers;\n  }\n  render(element, dataGrp, prepTemplate) {\n    var template = prepTemplate ? prepTemplate : element.innerHTML;\n    element.innerHTML = \"\";\n    var completeTemplate = \"\";\n    dataGrp.forEach(data => {\n      var liveTemplate = template;\n      if (typeof data == \"string\") {\n        liveTemplate = liveTemplate.replaceAll(\"@tag\", data);\n      } else {\n        for (var key in data) {\n          if (typeof data[key] == \"object\") {\n            var count = 0;\n            var innerData = data[key];\n            for (var key2 in innerData) {\n              liveTemplate = this.helpers.actions.replaceAll(\n                liveTemplate,\n                \"@\" + key + \".\" + count,\n                innerData[key2]\n              );\n              count++;\n            }\n            count = 0;\n          } else {\n            var value = data[key];\n            value =\n              key == \"duration\"\n                ? Math.floor(parseFloat(value) / 60).toFixed(2)\n                : value;\n            liveTemplate = this.helpers.actions.replaceAll(\n              liveTemplate,\n              \"@\" + key,\n              value\n            );\n          }\n        }\n      }\n      element.innerHTML += liveTemplate;\n    });\n  }\n}\nexport { RenderEngine };\n","class RequestProcessor {\n  constructor(deps) {\n    this.config = deps.env;\n    this.helpers = deps.helpers;\n  }\n  processor(action, filters, callback) {\n    var params = this.helpers.actions.queryToParams(\n      Object.assign(filters, this.config)\n    );\n    const url =\n      \"https://pt.ptawe.com/api/video-promotion/v1/\" + action + params;\n    console.info(url);\n    const requestConfig = {\n      method: \"GET\",\n      credentials: \"same-origin\",\n      headers: { \"X-Requested-With\": \"XMLHttpRequest\" }\n    };\n    fetch(url, requestConfig)\n      .then(response => response.json())\n      .then(result => callback(result))\n      .catch(\n        error =>\n          function(error) {\n            console.error(error);\n          }\n      );\n  }\n}\nexport { RequestProcessor };\n","var tagQueryMap = {\n  list: { raw: \"data-awe-list\", refined: \"aweList\" },\n  player: { raw: \"data-awe-player\", refined: \"awePlayer\" },\n  searchBtn: { raw: \"data-awe-search-btn\", refined: \"aweSearchBtn\" },\n  searchInp: { raw: \"data-awe-search\", refined: \"aweSearch\" },\n  connection: { raw: \"data-awe-connection\", refined: \"aweConnection\" },\n  loader: { raw: \"data-awe-loader\", refined: \"aweLoader\" },\n  tags: { raw: \"data-awe-tags\", refined: \"aweTags\" },\n  pagination: { raw: \"data-awe-paginate\", refined: \"awePaginate\" },\n  pageNumbers: { raw: \"data-pager-numbers\", refined: \"pagerNumbers\" },\n  pagePrevious: { raw: \"data-pager-previous\", refined: \"pagerPrevious\" },\n  pageNext: { raw: \"data-pager-next\", refined: \"pagerNext\" }\n};\n\nexport { tagQueryMap };\n"],"sourceRoot":""}