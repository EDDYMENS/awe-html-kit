{"version":3,"sources":["webpack://library/webpack/universalModuleDefinition","webpack://library/webpack/bootstrap","webpack://library/./src/components/listVideoComponent.js","webpack://library/./src/components/paginator.js","webpack://library/./src/components/searchComponent.js","webpack://library/./src/components/videoPlayerComponent.js","webpack://library/./src/connection.js","webpack://library/./src/helpers.js","webpack://library/./src/index.js","webpack://library/./src/middleware.js","webpack://library/./src/renderEngine.js","webpack://library/./src/requestProcessor.js","webpack://library/./src/tagQueryMap.js"],"names":["ListComponent","constructor","requestProcessor","middleware","paginator","renderEngine","deps","templateList","helpers","listVideos","label","options","template","selfInst","inst","urlVideoTags","actions","getUrlParam","element","list","action","pagination","filterList","dataset","tags","length","query","preRenderActions","that","renderVids","videoList","listComponent","render","postRenderActions","loaderLabel","aweList","processor","response","data","videos","exception","console","log","Paginator","tagQueryMap","pageData","paginators","pagertemplate","pagerLength","paginatorSize","totalPages","querySelector","raw","prevBtn","nextBtn","innerHTML","pager","currentPage","startFrom","endAt","generatePager","prevCount","parseInt","appendChild","cloneNode","onclick","flipPageFunc","i","liveTemplate","classList","add","remove","nextCount","count","pageIndex","SearchComponent","prepareSearchEvent","searchBtnElement","listLabel","aweSearchBtn","getElement","searchWords","value","split","replace","VideoPlayerComponent","env","playVideo","playerId","Math","random","dataSets","urlParams","URLSearchParams","location","search","connectionObj","videoId","get","videoid","aweContainerId","playerEmbedUrl","error","awePlayer","url","URL","contentHash","searchParams","container","document","warn","removeAttribute","params","queryToParams","psid","accessKey","iframeElement","createElement","src","style","width","height","frameBorder","setAttribute","prepend","message","connectionEl","querySelectorAll","connections","awePsid","aweAccesskey","clientIp","aweClientip","styles","hideElement","display","showElement","showOrHideComponent","componentTag","dataSet","componentList","forEach","component","removeLoader","tag","showLoader","hidePaginator","showPaginator","getLabel","componentType","labelKey","refined","savePaginatorTemplate","currentCount","wantedLength","pageSplit","leftCount","floor","rightCount","round","param","url_string","window","href","getRandomArr","arr","n","result","Array","len","taken","RangeError","x","replaceAll","target","replacement","join","str","p","hasOwnProperty","push","encodeURIComponent","onload","listElements","players","searchBtnList","tagList","Middleware","RequestProcessor","RenderEngine","videoPlayerComponent","searchComponent","payload","toLowerCase","dataGrp","prepTemplate","completeTemplate","key","innerData","key2","parseFloat","toFixed","config","filters","callback","Object","assign","info","requestConfig","method","credentials","headers","fetch","then","json","catch","player","searchBtn","searchInp","connection","loader","pageNumbers","pagePrevious","pageNext"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA,MAAMA,aAAN,CAAoB;AAClBC,cAAYC,gBAAZ,EAA8BC,UAA9B,EAA0CC,SAA1C,EAAqDC,YAArD,EAAmEC,IAAnE,EAAyE;AACvE,SAAKC,YAAL,GAAoBD,KAAKC,YAAzB;AACA,SAAKC,OAAL,GAAeF,KAAKE,OAApB;AACA,SAAKN,gBAAL,GAAwBA,gBAAxB;AACA,SAAKC,UAAL,GAAkBA,UAAlB;AACA,SAAKE,YAAL,GAAoBA,YAApB;AACA,SAAKD,SAAL,GAAiB,IAAIA,SAAJ,CAAc,IAAd,EAAoBE,IAApB,CAAjB;AACD;AACDG,aAAWC,KAAX,EAAkBC,OAAlB,EAA2BC,QAA3B,EAAqCC,QAArC,EAA+C;AAC7C,QAAI;AACF,UAAIC,OAAOD,WAAWA,QAAX,GAAsB,IAAjC;AACA,UAAIL,UAAUM,KAAKN,OAAnB;AACA,UAAID,eAAeO,KAAKP,YAAxB;AACA,UAAIJ,aAAaW,KAAKX,UAAtB;AACA,UAAIC,YAAYU,KAAKV,SAArB;AACA,UAAIW,eAAeP,QAAQQ,OAAR,CAAgBC,WAAhB,CAA4B,WAA5B,CAAnB;AACAN,gBAAUA,UAAUA,OAAV,GAAoB,EAA9B;AACA,UAAIO,UAAUX,aAAaY,IAAb,CAAkBT,KAAlB,EAAyBQ,OAAvC;AACA,UAAI,CAACA,OAAL,EAAc;AACZ,cAAO,qDAAoDR,KAAM,EAAjE;AACD;AACD,UAAIU,SAAS,MAAb;AACA,UAAIC,aAAaV,QAAQU,UAAzB;AACA,aAAOV,QAAQU,UAAf;AACA,UAAIC,aAAaX,QAAQW,UAAR,GACbX,QAAQW,UADK,GAEbJ,QAAQK,OAFZ;;AAIA,UAAIR,YAAJ,EAAkB;AAChBO,mBAAWE,IAAX,GACEF,WAAWE,IAAX,IAAmBF,WAAWE,IAAX,CAAgBC,MAAnC,GACIH,WAAWE,IAAX,GAAkB,GAAlB,GAAwBT,YAD5B,GAEKO,WAAWE,IAAX,GAAkBT,YAHzB;AAID;AACD,UAAIW,QAAQ,EAAZ;AACAvB,iBAAWwB,gBAAX,CAA4B,EAAET,SAASA,OAAX,EAA5B,EAAkDE,MAAlD;AACA,UAAIQ,OAAO,IAAX;AACA,UAAIC,aAAa,UAASC,SAAT,EAAoBR,UAApB,EAAgCV,QAAhC,EAA0C;AACzDgB,eAAOA,KAAKvB,YAAL,GAAoBuB,IAApB,GAA2BA,KAAKG,aAAvC;AACAH,aAAKvB,YAAL,CAAkB2B,MAAlB,CAAyBd,OAAzB,EAAkCY,SAAlC,EAA6ClB,QAA7C;AACAT,mBAAW8B,iBAAX,CAA6B;AAC3Bf,mBAASA,OADkB;AAE3BgB,uBAAaZ,WAAWa;AAFG,SAA7B;AAID,OAPD;AAQA,UAAIxB,QAAQmB,SAAZ,EAAuB;AACrB1B,kBAAU4B,MAAV,CAAiBtB,KAAjB,EAAwBC,QAAQU,UAAhC,EAA4CC,UAA5C;AACA,eAAOO,WAAWC,SAAX,EAAsBR,UAAtB,EAAkCV,QAAlC,CAAP;AACD;AACDE,WAAKZ,gBAAL,CAAsBkC,SAAtB,CAAgChB,MAAhC,EAAwCE,UAAxC,EAAoD,UAASe,QAAT,EAAmB;AACrE,YAAIP,YAAYO,SAASC,IAAT,CAAcC,MAA9B;AACAnC,kBAAU4B,MAAV,CAAiBtB,KAAjB,EAAwB2B,SAASC,IAAT,CAAcjB,UAAtC,EAAkDC,UAAlD;AACAO,mBAAWC,SAAX,EAAsBR,UAAtB,EAAkCV,QAAlC;AACD,OAJD;AAKD,KA7CD,CA6CE,OAAO4B,SAAP,EAAkB;AAClBC,cAAQC,GAAR,CAAY,MAAZ,EAAoBF,SAApB;AACD;AACF;AA1DiB;;;;;;;;;;;;;;ACApB;AAAA;AAAA,MAAMG,SAAN,CAAgB;AACd1C,cAAY8B,aAAZ,EAA2BzB,IAA3B,EAAiC;AAC/B,SAAKsC,WAAL,GAAmBtC,KAAKsC,WAAxB;AACA,SAAKpC,OAAL,GAAeF,KAAKE,OAApB;AACA,SAAKD,YAAL,GAAoBD,KAAKC,YAAzB;AACA,SAAKE,UAAL,GAAkBsB,cAActB,UAAhC;AACA,SAAKsB,aAAL,GAAqBA,aAArB;AACD;AACDC,SAAOtB,KAAP,EAAcmC,QAAd,EAAwBvB,UAAxB,EAAoC;AAClC,QAAI,CAAC,KAAKf,YAAL,CAAkBuC,UAAlB,CAA6BpC,KAA7B,CAAL,EAA0C;AACxC;AACD;AACD,QAAIH,eAAe,KAAKA,YAAxB;AACA,QAAIW,UAAUX,aAAauC,UAAb,CAAwBpC,KAAxB,EAA+BQ,OAA7C;AACA,QAAI6B,gBAAgBxC,aAAauC,UAAb,CAAwBpC,KAAxB,EAA+BE,QAAnD;AACA,QAAIoC,cAAc9B,QAAQK,OAAR,CAAgByB,WAAlC;AACA,QAAIC,gBAAgBD,cAAcA,WAAd,GAA4B,CAAhD;AACA,QAAIC,gBACFJ,SAASK,UAAT,GAAsBD,aAAtB,GAAsCJ,SAASK,UAA/C,GAA4DD,aAD9D;;AAGA,QAAIrC,WAAWmC,cAAcI,aAAd,CACZ,IAAG,KAAKP,WAAL,CAAiB,aAAjB,EAAgCQ,GAAI,GAD3B,CAAf;AAGA,QAAIC,UAAUN,cAAcI,aAAd,CACX,IAAG,KAAKP,WAAL,CAAiB,cAAjB,EAAiCQ,GAAI,GAD7B,CAAd;AAGA,QAAIE,UAAUP,cAAcI,aAAd,CACX,IAAG,KAAKP,WAAL,CAAiB,UAAjB,EAA6BQ,GAAI,GADzB,CAAd;AAGAlC,YAAQqC,SAAR,GAAoB,EAApB;AACA,QAAIC,QACFX,SAASY,WAAT,GAAuBR,aAAvB,GACI,EAAES,WAAW,CAAb,EAAgBC,OAAOV,aAAvB,EADJ,GAEI,KAAKzC,OAAL,CAAaQ,OAAb,CAAqB4C,aAArB,CACEf,SAASY,WADX,EAEER,aAFF,CAHN;AAOA,QAAIY,YAAYC,SAASjB,SAASY,WAAlB,IAAiC,CAAjD;AACA,QAAIJ,WAAWQ,YAAY,CAA3B,EAA8B;AAC5B3C,cAAQ6C,WAAR,CAAoBV,QAAQW,SAAR,CAAkB,IAAlB,CAApB,EAA6CC,OAA7C,GAAuD,KAAKC,YAAL,CACrDxD,KADqD,EAErDY,UAFqD,EAGrDuC,SAHqD,CAAvD;AAKD;AACD,SAAK,IAAIM,IAAIX,MAAME,SAAnB,EAA8BS,KAAKL,SAASN,MAAMG,KAAf,CAAnC,EAA0DQ,GAA1D,EAA+D;AAC7D,UAAIL,SAASjB,SAASK,UAAlB,KAAiCiB,CAArC,EAAwC;AACtC;AACD;AACD,UAAIC,eAAexD,SAASoD,SAAT,CAAmB,IAAnB,CAAnB;AACAI,mBAAab,SAAb,GAAyBY,CAAzB;AACAtB,eAASY,WAAT,IAAwBU,CAAxB,GACIC,aAAaC,SAAb,CAAuBC,GAAvB,CAA2B,QAA3B,CADJ,GAEIF,aAAaC,SAAb,CAAuBE,MAAvB,CAA8B,QAA9B,CAFJ;;AAIAH,mBAAaH,OAAb,GAAuB,KAAKC,YAAL,CAAkBxD,KAAlB,EAAyBY,UAAzB,EAAqC6C,CAArC,CAAvB;AACAjD,cAAQ6C,WAAR,CAAoBK,YAApB;AACD;AACD,QAAII,YAAY3B,SAASY,WAAT,GAAuB,CAAvC;AACA,QAAIH,WAAWkB,YAAY3B,SAASK,UAApC,EAAgD;AAC9ChC,cAAQ6C,WAAR,CAAoBT,QAAQU,SAAR,CAAkB,IAAlB,CAApB,EAA6CC,OAA7C,GAAuD,KAAKC,YAAL,CACrDxD,KADqD,EAErDY,UAFqD,EAGrDkD,SAHqD,CAAvD;AAKD;AACF;AACDN,eAAaxD,KAAb,EAAoBC,OAApB,EAA6B8D,KAA7B,EAAoC;AAClC,QAAI7C,OAAO,IAAX;AACA,WAAO,YAAW;AAChBjB,cAAQ+D,SAAR,GAAoBD,KAApB;AACA,UAAI7D,WAAWgB,KAAKrB,YAAL,CAAkBY,IAAlB,CAAuBT,KAAvB,EAA8BE,QAA9B,CAAuC2C,SAAtD;AACA3B,WAAKnB,UAAL,CAAgBC,KAAhB,EAAuBC,OAAvB,EAAgCC,QAAhC,EAA0CgB,KAAKG,aAA/C;AACD,KAJD;AAKD;AA1Ea;;;;;;;;;;;;;;ACAhB;AAAA;AAAA,MAAM4C,eAAN,CAAsB;AACpB1E,cAAY8B,aAAZ,EAA2BzB,IAA3B,EAAiC;AAC/B,SAAKC,YAAL,GAAoBD,KAAKC,YAAzB;AACA,SAAKC,OAAL,GAAeF,KAAKE,OAApB;AACA,SAAKuB,aAAL,GAAqBA,aAArB;AACD;AACD6C,qBAAmBC,gBAAnB,EAAqC;AACnC,QAAIjD,OAAO,IAAX;AACAiD,qBAAiBZ,OAAjB,GAA2B,YAAW;AACpC,UAAIzD,UAAUoB,KAAKpB,OAAnB;AACA,UAAID,eAAeqB,KAAKrB,YAAxB;AACA,UAAIwB,gBAAgBH,KAAKG,aAAzB;;AAEA,UAAI+C,YAAY,KAAKvD,OAAL,CAAawD,YAA7B;AACA,UAAInE,WAAWL,aAAaY,IAAb,CAAkB2D,SAAlB,EAA6BlE,QAA7B,CAAsC2C,SAArD;AACAhD,mBAAaY,IAAb,CAAkB2D,SAAlB,EAA6B5D,OAA7B,CAAqCK,OAArC,CAA6CmD,SAA7C,GAAyD,CAAzD;AACA,UAAIpD,aAAaf,aAAaY,IAAb,CAAkB2D,SAAlB,EAA6B5D,OAA7B,CAAqCK,OAAtD;AACA,UAAIL,UAAUV,QAAQQ,OAAR,CAAgBgE,UAAhB,CAA2BF,SAA3B,EAAsC,WAAtC,CAAd;AACA,UAAI,CAAC5D,OAAL,EAAc;AACZ,cAAO,iHAAP;AACD;AACD,UAAI+D,cAAc/D,QAAQgE,KAA1B;AACA5D,iBAAWE,IAAX,GACEyD,YAAYE,KAAZ,CAAkB,GAAlB,EAAuB1D,MAAvB,IAAiC,CAAjC,GACIwD,WADJ,GAEIA,YAAYG,OAAZ,CAAoB,IAApB,EAA0B,GAA1B,CAHN;AAIArD,oBAActB,UAAd,CACEqE,SADF,EAEE;AACExD,oBAAYA;AADd,OAFF,EAKEV,QALF;AAOD,KAzBD;AA0BD;AAlCmB;;;;;;;;;;;;;;ACAtB;AAAA;AAAA,MAAMyE,oBAAN,CAA2B;AACzBpF,cAAYC,gBAAZ,EAA8BG,YAA9B,EAA4CF,UAA5C,EAAwDK,OAAxD,EAAiEF,IAAjE,EAAuE;AACrE,SAAKH,UAAL,GAAkBA,UAAlB;AACA,SAAKD,gBAAL,GAAwBA,gBAAxB;AACA,SAAKG,YAAL,GAAoBA,YAApB;AACA,SAAKG,OAAL,GAAeA,OAAf;AACA,SAAK8E,GAAL,GAAWhF,KAAKgF,GAAhB;AACD;AACDC,YAAUrE,OAAV,EAAmB;AACjB,UAAMsE,WAAWC,KAAKC,MAAL,EAAjB;AACA,QAAIC,WAAWzE,QAAQK,OAAvB;AACA,QAAIqE,YAAY,IAAIC,eAAJ,CAAoBC,SAASC,MAA7B,CAAhB;AACA,QAAI5F,aAAa,KAAKA,UAAtB;AACA,QAAIK,UAAU,KAAKA,OAAnB;AACA,QAAIwF,gBAAgB,KAAKV,GAAzB;AACA,QAAIW,UAAUL,UAAUM,GAAV,CAAc,SAAd,IACVN,UAAUM,GAAV,CAAc,SAAd,CADU,GAEVP,SAASQ,OAFb;;AAIA,QAAI,CAACF,OAAL,EAAc;AACZ;AACD;;AAED/E,YAAQK,OAAR,CAAgB6E,cAAhB,GAAiCZ,QAAjC;AACAtE,YAAQmD,SAAR,CAAkBC,GAAlB,CAAsB,YAAtB;AACAnE,eAAWwB,gBAAX,CAA4B,EAAET,SAASA,OAAX,EAA5B,EAAkD,QAAlD;AACA,QAAIU,OAAO,IAAX;AACA,SAAK1B,gBAAL,CAAsBkC,SAAtB,CAAgC,aAAa6D,OAA7C,EAAsDN,QAAtD,EAAgE,UAC9DtD,QAD8D,EAE9D;AACA,UAAI,CAACA,SAASC,IAAT,CAAc+D,cAAnB,EAAmC;AACjC5D,gBAAQ6D,KAAR,CAAc,mCAAd;AACD;AACD1E,WAAKvB,YAAL,CAAkB2B,MAAlB,CAAyBd,OAAzB,EAAkC,CAACmB,SAASC,IAAV,CAAlC;AACAnC,iBAAW8B,iBAAX,CAA6B;AAC3Bf,iBAASA,OADkB;AAE3BgB,qBAAahB,QAAQK,OAAR,CAAgBgF;AAFF,OAA7B;;AAKA,UAAIC,MAAM,IAAIC,GAAJ,CAAQpE,SAASC,IAAT,CAAc+D,cAAtB,CAAV;AACA,UAAIK,cAAcF,IAAIG,YAAJ,CAAiBT,GAAjB,CAAqB,aAArB,CAAlB;AACA,UAAI;AACF,YAAIU,YAAa,YAAW;AAC1B,cAAIA,YAAYC,SAAS1D,aAAT,CACb,8BAA6BqC,QAAS,IADzB,CAAhB;;AAIA,cAAI,CAACoB,SAAL,EAAgB;AACdnE,oBAAQqE,IAAR,CAAa,+BAAb;;AAEA,mBAAOF,SAAP;AACD;;AAEDA,oBAAUG,eAAV,CAA0B,uBAA1B;AACA,iBAAOH,SAAP;AACD,SAbe,EAAhB;AAcA,YAAII,SAASpF,KAAKpB,OAAL,CAAaQ,OAAb,CAAqBiG,aAArB,CAAmCtB,QAAnC,CAAb;AACA,YAAIuB,OAAOlB,cAAckB,IAAzB;AACA,YAAIC,YAAYnB,cAAcmB,SAA9B;AACA,YAAIC,gBAAgBP,SAASQ,aAAT,CAAuB,QAAvB,CAApB;AACAD,sBAAcE,GAAd,GAAqB,iCAAgCN,MAAO,SAAQE,IAAK,cAAaC,SAAU,gBAAeT,WAAY,qBAA3H;AACAU,sBAAcG,KAAd,CAAoBC,KAApB,GAA4B,MAA5B;AACAJ,sBAAcG,KAAd,CAAoBE,MAApB,GAA6B,MAA7B;AACAL,sBAAcM,WAAd,GAA4B,CAA5B;AACAN,sBAAcO,YAAd,CAA2B,iBAA3B,EAA8C,MAA9C;;AAEAf,kBAAUgB,OAAV,CAAkBR,aAAlB;AACD,OA1BD,CA0BE,OAAO5E,SAAP,EAAkB;AAClBC,gBAAQ6D,KAAR,CAAc,sBAAsB9D,UAAUqF,OAA9C;AACD;AACF,KA3CD;AA4CD;AAvEwB;;;;;;;;;;;;;;ACA3B;AAAA;AAAA;AAAA;AACA,IAAIC,eAAejB,SAASkB,gBAAT,CAChB,IAAGnF,uDAAWA,CAAC,YAAZ,EAA0BQ,GAAI,GADjB,CAAnB;AAGA,IAAI,CAAC0E,aAAarG,MAAlB,EAA0B;AACxB,QAAM,mDAAN;AACD;AACD,MAAMuG,cAAcF,aAAa,CAAb,EAAgBvG,OAApC;AACA,MAAMyE,gBAAgB;AACpBkB,QAAMc,YAAYC,OADE;AAEpBd,aAAWa,YAAYE,YAFH;AAGpBC,YAAUH,YAAYI;AAHF,CAAtB;;;;;;;;;;;;;;ACRA;AAAA;AAAA,IAAI5H,UAAU,EAAd;;AAEA;AACAA,QAAQ6H,MAAR,GAAiB;AACfC,eAAa,UAASpH,OAAT,EAAkB;AAC7BA,YAAQqG,KAAR,CAAcgB,OAAd,GAAwB,MAAxB;AACD,GAHc;AAIfC,eAAa,UAAStH,OAAT,EAAkB;AAC7BA,YAAQqG,KAAR,CAAcgB,OAAd,GAAwB,EAAxB;AACD;AANc,CAAjB;;AASA;AACA/H,QAAQQ,OAAR,GAAkB;AAChByH,uBAAqB,UAASC,YAAT,EAAuBtH,MAAvB,EAA+BuH,OAA/B,EAAwCjI,KAAxC,EAA+C;AAClE,QAAIkI,gBAAgB/B,SAASkB,gBAAT,CAA2B,IAAGW,YAAa,IAAGhI,KAAM,GAApD,CAApB;AACAkI,kBAAcC,OAAd,CAAsBC,aAAa;AACjC1H,gBAAU,MAAV,GACIZ,QAAQ6H,MAAR,CAAeC,WAAf,CAA2BQ,SAA3B,CADJ,GAEItI,QAAQ6H,MAAR,CAAeG,WAAf,CAA2BM,SAA3B,CAFJ;AAGD,KAJD;AAKD,GARe;AAShBC,gBAAc,UAASrI,KAAT,EAAgB;AAC5BF,YAAQQ,OAAR,CAAgByH,mBAAhB,CACEjI,QAAQoC,WAAR,CAAoB,QAApB,EAA8BQ,GADhC,EAEE,MAFF,EAGE;AACE4F,WAAK;AADP,KAHF,EAMEtI,KANF;AAQD,GAlBe;AAmBhBuI,cAAY,UAASvI,KAAT,EAAgB;AAC1BF,YAAQQ,OAAR,CAAgByH,mBAAhB,CACEjI,QAAQoC,WAAR,CAAoB,QAApB,EAA8BQ,GADhC,EAEE,MAFF,EAGE;AACE4F,WAAK;AADP,KAHF,EAMEtI,KANF;AAQD,GA5Be;AA6BhBwI,iBAAe,UAASxI,KAAT,EAAgB;AAC7BF,YAAQQ,OAAR,CAAgByH,mBAAhB,CACEjI,QAAQoC,WAAR,CAAoB,YAApB,EAAkCQ,GADpC,EAEE,MAFF,EAGE;AACE4F,WAAK;AADP,KAHF,EAMEtI,KANF;AAQD,GAtCe;AAuChByI,iBAAe,UAASzI,KAAT,EAAgB;AAC7BF,YAAQQ,OAAR,CAAgByH,mBAAhB,CACEjI,QAAQoC,WAAR,CAAoB,YAApB,EAAkCQ,GADpC,EAEE,MAFF,EAGE;AACE4F,WAAK;AADP,KAHF,EAMEtI,KANF;AAQD,GAhDe;AAiDhB0I,YAAU,UAASlI,OAAT,EAAkBmI,aAAlB,EAAiC;AACzC,QAAIC,WAAW9I,QAAQoC,WAAR,CAAoByG,aAApB,EAAmCE,OAAlD;AACA,WAAOrI,QAAQK,OAAR,CAAgB+H,QAAhB,CAAP;AACD,GApDe;AAqDhBtE,cAAY,UAAStE,KAAT,EAAgB2I,aAAhB,EAA+B;AACzC,WAAOxC,SAAS1D,aAAT,CACJ,IAAG3C,QAAQoC,WAAR,CAAoByG,aAApB,EAAmCjG,GAAI,IAAG1C,KAAM,GAD/C,CAAP;AAGD,GAzDe;AA0DhB8I,yBAAuB,UAAS9I,KAAT,EAAgBH,YAAhB,EAA8B;AACnD,QAAIW,UAAU2F,SAAS1D,aAAT,CACX,IAAG3C,QAAQoC,WAAR,CAAoB,YAApB,EAAkCQ,GAAI,IAAG1C,KAAM,GADvC,CAAd;AAGA,QAAI,CAACQ,OAAL,EAAc;AACZ,aAAO,KAAP;AACD;AACDX,iBAAauC,UAAb,CAAwBpC,KAAxB,IAAiC,EAAjC;AACAH,iBAAauC,UAAb,CAAwBpC,KAAxB,EAA+BQ,OAA/B,GAAyCA,OAAzC;AACAX,iBAAauC,UAAb,CAAwBpC,KAAxB,EAA+BE,QAA/B,GAA0CM,QAAQ8C,SAAR,CAAkB,IAAlB,CAA1C;AACA,WAAOzD,YAAP;AACD,GArEe;AAsEhBqD,iBAAe,UAAS6F,YAAT,EAAuBC,YAAvB,EAAqC;AAClD,QAAIC,YAAYD,eAAe,CAA/B;AACA,QAAIE,YAAYnE,KAAKoE,KAAL,CAAWF,SAAX,CAAhB;AACA,QAAIG,aAAarE,KAAKsE,KAAL,CAAWJ,SAAX,CAAjB;AACA,QAAIjG,YACF+F,eAAeG,SAAf,GAA2BH,eAAeG,SAA1C,GAAsDH,YADxD;AAEA,QAAI9F,QAAQ8F,eAAeK,UAAf,GAA4B,CAAxC;AACAnG,YACEA,QAAQD,SAAR,IAAqBgG,YAArB,GACI5F,SAASJ,SAAT,IAAsBI,SAAS4F,YAAT,CAAtB,GAA+C,CADnD,GAEI/F,KAHN;AAIA,WAAO,EAAED,WAAWA,SAAb,EAAwBC,OAAOA,KAA/B,EAAP;AACD,GAlFe;AAmFhB1C,eAAa,UAAS+I,KAAT,EAAgB;AAC3B,QAAIC,aAAaC,OAAOpE,QAAP,CAAgBqE,IAAjC;AACA,QAAI3D,MAAM,IAAIC,GAAJ,CAAQwD,UAAR,CAAV;AACA,WAAOzD,IAAIG,YAAJ,CAAiBT,GAAjB,CAAqB8D,KAArB,CAAP;AACD,GAvFe;AAwFhBI,gBAAc,UAASC,GAAT,EAAcC,CAAd,EAAiB;AAC7B,QAAIC,SAAS,IAAIC,KAAJ,CAAUF,CAAV,CAAb;AAAA,QACEG,MAAMJ,IAAI5I,MADZ;AAAA,QAEEiJ,QAAQ,IAAIF,KAAJ,CAAUC,GAAV,CAFV;AAGA,QAAIH,IAAIG,GAAR,EACE,MAAM,IAAIE,UAAJ,CAAe,+CAAf,CAAN;AACF,WAAOL,GAAP,EAAY;AACV,UAAIM,IAAInF,KAAKoE,KAAL,CAAWpE,KAAKC,MAAL,KAAgB+E,GAA3B,CAAR;AACAF,aAAOD,CAAP,IAAYD,IAAIO,KAAKF,KAAL,GAAaA,MAAME,CAAN,CAAb,GAAwBA,CAA5B,CAAZ;AACAF,YAAME,CAAN,IAAW,EAAEH,GAAF,IAASC,KAAT,GAAiBA,MAAMD,GAAN,CAAjB,GAA8BA,GAAzC;AACD;AACD,WAAOF,MAAP;AACD,GApGe;;AAsGhBM,cAAY,UAASC,MAAT,EAAiB/E,MAAjB,EAAyBgF,WAAzB,EAAsC;AAChD,WAAOD,OAAO3F,KAAP,CAAaY,MAAb,EAAqBiF,IAArB,CAA0BD,WAA1B,CAAP;AACD,GAxGe;AAyGhB9D,iBAAe,UAASvF,KAAT,EAAgB;AAC7B,QAAIuJ,MAAM,EAAV;AACA,SAAK,IAAIC,CAAT,IAAcxJ,KAAd,EACE,IAAIA,MAAMyJ,cAAN,CAAqBD,CAArB,CAAJ,EAA6B;AAC3BD,UAAIG,IAAJ,CAASC,mBAAmBH,CAAnB,IAAwB,GAAxB,GAA8BG,mBAAmB3J,MAAMwJ,CAAN,CAAnB,CAAvC;AACD;AACH,WAAO,MAAMD,IAAID,IAAJ,CAAS,GAAT,CAAb;AACD;AAhHe,CAAlB;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAd,OAAOoB,MAAP,GAAgB,YAAW;AACzB,MAAIC,eAAe1E,SAASkB,gBAAT,CAA2B,IAAGnF,uDAAWA,CAAC,MAAZ,EAAoBQ,GAAI,GAAtD,CAAnB;AACA,MAAIoI,UAAU3E,SAASkB,gBAAT,CAA2B,IAAGnF,uDAAWA,CAAC,QAAZ,EAAsBQ,GAAI,GAAxD,CAAd;AACA,MAAIqI,gBAAgB5E,SAASkB,gBAAT,CACjB,IAAGnF,uDAAWA,CAAC,WAAZ,EAAyBQ,GAAI,GADf,CAApB;AAGA,MAAIsI,UAAU7E,SAASkB,gBAAT,CAA2B,IAAGnF,uDAAWA,CAAC,MAAZ,EAAoBQ,GAAI,GAAtD,CAAd;;AAEA,MAAI7C,eAAe,EAAEY,MAAM,EAAR,EAAY2B,YAAY,EAAxB,EAAnB;AACA,MAAI,CAACyI,aAAa9J,MAAd,IAAwB,CAAC+J,QAAQ/J,MAArC,EAA6C;AAC3C;AACD;;AAEDjB,iDAAOA,CAACoC,WAAR,GAAsBA,uDAAtB;AACA,MAAItC,OAAO;AACTsC,iBAAaA,uDADJ;AAETpC,aAASA,+CAFA;AAGTD,kBAAcA,YAHL;AAIT+E,SAAKA,8CAAGA;AAJC,GAAX;AAMA,MAAInF,aAAa,IAAIwL,qDAAJ,CAAerL,IAAf,CAAjB;AACA,MAAIJ,mBAAmB,IAAI0L,iEAAJ,CAAqBtL,IAArB,CAAvB;AACA,MAAID,eAAe,IAAIwL,yDAAJ,CAAiBvL,IAAjB,CAAnB;AACA,MAAIyB,gBAAgB,IAAI/B,2EAAJ,CAClBE,gBADkB,EAElBC,UAFkB,EAGlBwC,8DAHkB,EAIlBtC,YAJkB,EAKlBC,IALkB,CAApB;AAOA,MAAIwL,uBAAuB,IAAIzG,oFAAJ,CACzBnF,gBADyB,EAEzBG,YAFyB,EAGzBF,UAHyB,EAIzBK,+CAJyB,EAKzBF,IALyB,CAA3B;AAOA,MAAIyL,kBAAkB,IAAIpH,0EAAJ,CAAoB5C,aAApB,EAAmCzB,IAAnC,CAAtB;;AAEAiL,eAAa1C,OAAb,CAAqB3H,WAAW;AAC9Bf,eAAWwB,gBAAX,CAA4B,EAAET,SAASA,OAAX,EAA5B,EAAkD,MAAlD;AACA,QAAIR,QAAQF,+CAAOA,CAACQ,OAAR,CAAgBoI,QAAhB,CAAyBlI,OAAzB,EAAkC,MAAlC,CAAZ;AACAX,mBAAeC,+CAAOA,CAACQ,OAAR,CAAgBwI,qBAAhB,CAAsC9I,KAAtC,EAA6CH,YAA7C,CAAf;AACAwB,kBAActB,UAAd,CAAyBC,KAAzB;AACD,GALD;;AAOA8K,UAAQ3C,OAAR,CAAgB3H,WAAW;AACzB4K,yBAAqBvG,SAArB,CAA+BrE,OAA/B;AACD,GAFD;AAGAuK,gBAAc5C,OAAd,CAAsBhE,oBAAoB;AACxCkH,oBAAgBnH,kBAAhB,CAAmCC,gBAAnC;AACD,GAFD;;AAIA;AACA;AACA;AACA;AACA;AACA;AACD,CA3DD,C;;;;;;;;;;;;ACVA;AAAA;AAAA;AACA,MAAM8G,UAAN,CAAiB;AACf1L,cAAYK,IAAZ,EAAkB;AAChB,SAAKsC,WAAL,GAAmBtC,KAAKsC,WAAxB;AACA,SAAKrC,YAAL,GAAoBD,KAAKC,YAAzB;AACA,SAAKC,OAAL,GAAeF,KAAKE,OAApB;AACD;AACDmB,mBAAiBqK,OAAjB,EAA0B3C,aAA1B,EAAyC;AACvC,QAAI9I,eAAe,KAAKA,YAAxB;AACA,QAAIC,UAAU,KAAKA,OAAnB;AACA,QAAIE,QACFsL,QAAQ9K,OAAR,CAAgBK,OAAhB,CAAwB,KAAKqB,WAAL,CAAiByG,aAAjB,EAAgCE,OAAxD,CADF;AAEA,QAAI,CAAC7I,KAAL,EAAY;AACV,YAAM,8EAAN;AACD;AACDA,YAAQA,MAAMuL,WAAN,EAAR;AACA,QAAI,CAAC1L,aAAaY,IAAb,CAAkBT,KAAlB,CAAL,EAA+B;AAC7BH,mBAAaY,IAAb,CAAkBT,MAAMuL,WAAN,EAAlB,IAAyC;AACvC/K,iBAAS8K,QAAQ9K,OADsB;AAEvCN,kBAAUoL,QAAQ9K,OAAR,CAAgB8C,SAAhB,CAA0B,IAA1B,CAF6B;AAGvC1B,cAAM0J,QAAQ1J;AAHyB,OAAzC;AAKD;AACD9B,YAAQQ,OAAR,CAAgBiI,UAAhB,CAA2BvI,KAA3B;AACAF,YAAQQ,OAAR,CAAgBkI,aAAhB,CAA8BxI,KAA9B;AACAF,YAAQ6H,MAAR,CAAeC,WAAf,CAA2B0D,QAAQ9K,OAAnC;AACD;;AAED;AACAe,oBAAkB+J,OAAlB,EAA2B;AACzB,QAAIxL,UAAU,KAAKA,OAAnB;AACAA,YAAQQ,OAAR,CAAgB+H,YAAhB,CAA6BiD,QAAQ9J,WAArC;AACA1B,YAAQQ,OAAR,CAAgBmI,aAAhB,CAA8B6C,QAAQ9J,WAAtC;AACA1B,YAAQ6H,MAAR,CAAeG,WAAf,CAA2BwD,QAAQ9K,OAAnC;AACD;AAjCc;;;;;;;;;;;;;ACDjB;AAAA;AAAA,MAAM2K,YAAN,CAAmB;AACjB;AACA5L,cAAYK,IAAZ,EAAkB;AAChB,SAAKE,OAAL,GAAeF,KAAKE,OAApB;AACD;AACDwB,SAAOd,OAAP,EAAgBgL,OAAhB,EAAyBC,YAAzB,EAAuC;AACrC,QAAIvL,WAAWuL,eAAeA,YAAf,GAA8BjL,QAAQqC,SAArD;AACArC,YAAQqC,SAAR,GAAoB,EAApB;AACA,QAAI6I,mBAAmB,EAAvB;AACAF,YAAQrD,OAAR,CAAgBvG,QAAQ;AACtB,UAAI8B,eAAexD,QAAnB;AACA,UAAI,OAAO0B,IAAP,IAAe,QAAnB,EAA6B;AAC3B8B,uBAAeA,aAAayG,UAAb,CAAwB,MAAxB,EAAgCvI,IAAhC,CAAf;AACD,OAFD,MAEO;AACL,aAAK,IAAI+J,GAAT,IAAgB/J,IAAhB,EAAsB;AACpB,cAAI,OAAOA,KAAK+J,GAAL,CAAP,IAAoB,QAAxB,EAAkC;AAChC,gBAAI5H,QAAQ,CAAZ;AACA,gBAAI6H,YAAYhK,KAAK+J,GAAL,CAAhB;AACA,iBAAK,IAAIE,IAAT,IAAiBD,SAAjB,EAA4B;AAC1BlI,6BAAe,KAAK5D,OAAL,CAAaQ,OAAb,CAAqB6J,UAArB,CACbzG,YADa,EAEb,MAAMiI,GAAN,GAAY,GAAZ,GAAkB5H,KAFL,EAGb6H,UAAUC,IAAV,CAHa,CAAf;AAKA9H;AACD;AACDA,oBAAQ,CAAR;AACD,WAZD,MAYO;AACL,gBAAIS,QAAQ5C,KAAK+J,GAAL,CAAZ;AACAnH,oBACEmH,OAAO,UAAP,GACI5G,KAAKoE,KAAL,CAAW2C,WAAWtH,KAAX,IAAoB,EAA/B,EAAmCuH,OAAnC,CAA2C,CAA3C,CADJ,GAEIvH,KAHN;AAIAd,2BAAe,KAAK5D,OAAL,CAAaQ,OAAb,CAAqB6J,UAArB,CACbzG,YADa,EAEb,MAAMiI,GAFO,EAGbnH,KAHa,CAAf;AAKD;AACF;AACF;AACDhE,cAAQqC,SAAR,IAAqBa,YAArB;AACD,KAjCD;AAkCD;AA3CgB;;;;;;;;;;;;;ACAnB;AAAA;AAAA,MAAMwH,gBAAN,CAAuB;AACrB3L,cAAYK,IAAZ,EAAkB;AAChB,SAAKoM,MAAL,GAAcpM,KAAKgF,GAAnB;AACA,SAAK9E,OAAL,GAAeF,KAAKE,OAApB;AACD;AACD4B,YAAUhB,MAAV,EAAkBuL,OAAlB,EAA2BC,QAA3B,EAAqC;AACnC,QAAI5F,SAAS,KAAKxG,OAAL,CAAaQ,OAAb,CAAqBiG,aAArB,CACX4F,OAAOC,MAAP,CAAcH,OAAd,EAAuB,KAAKD,MAA5B,CADW,CAAb;AAGA,UAAMlG,MACJ,iDAAiDpF,MAAjD,GAA0D4F,MAD5D;AAEAvE,YAAQsK,IAAR,CAAavG,GAAb;AACA,UAAMwG,gBAAgB;AACpBC,cAAQ,KADY;AAEpBC,mBAAa,aAFO;AAGpBC,eAAS,EAAE,oBAAoB,gBAAtB;AAHW,KAAtB;AAKAC,UAAM5G,GAAN,EAAWwG,aAAX,EACGK,IADH,CACQhL,YAAYA,SAASiL,IAAT,EADpB,EAEGD,IAFH,CAEQ9C,UAAUqC,SAASrC,MAAT,CAFlB,EAGGgD,KAHH,CAIIjH,SACE,UAASA,KAAT,EAAgB;AACd7D,cAAQ6D,KAAR,CAAcA,KAAd;AACD,KAPP;AASD;AA1BoB;;;;;;;;;;;;;ACAvB;AAAA;AAAA,IAAI1D,cAAc;AAChBzB,QAAM,EAAEiC,KAAK,eAAP,EAAwBmG,SAAS,SAAjC,EADU;AAEhBiE,UAAQ,EAAEpK,KAAK,iBAAP,EAA0BmG,SAAS,WAAnC,EAFQ;AAGhBkE,aAAW,EAAErK,KAAK,qBAAP,EAA8BmG,SAAS,cAAvC,EAHK;AAIhBmE,aAAW,EAAEtK,KAAK,iBAAP,EAA0BmG,SAAS,WAAnC,EAJK;AAKhBoE,cAAY,EAAEvK,KAAK,qBAAP,EAA8BmG,SAAS,eAAvC,EALI;AAMhBqE,UAAQ,EAAExK,KAAK,iBAAP,EAA0BmG,SAAS,WAAnC,EANQ;AAOhB/H,QAAM,EAAE4B,KAAK,eAAP,EAAwBmG,SAAS,SAAjC,EAPU;AAQhBlI,cAAY,EAAE+B,KAAK,mBAAP,EAA4BmG,SAAS,aAArC,EARI;AAShBsE,eAAa,EAAEzK,KAAK,oBAAP,EAA6BmG,SAAS,cAAtC,EATG;AAUhBuE,gBAAc,EAAE1K,KAAK,qBAAP,EAA8BmG,SAAS,eAAvC,EAVE;AAWhBwE,YAAU,EAAE3K,KAAK,iBAAP,EAA0BmG,SAAS,WAAnC;AAXM,CAAlB","file":"library.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"library\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory();\n\telse\n\t\troot[\"library\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","class ListComponent {\n  constructor(requestProcessor, middleware, paginator, renderEngine, deps) {\n    this.templateList = deps.templateList;\n    this.helpers = deps.helpers;\n    this.requestProcessor = requestProcessor;\n    this.middleware = middleware;\n    this.renderEngine = renderEngine;\n    this.paginator = new paginator(this, deps);\n  }\n  listVideos(label, options, template, selfInst) {\n    try {\n      var inst = selfInst ? selfInst : this;\n      var helpers = inst.helpers;\n      var templateList = inst.templateList;\n      var middleware = inst.middleware;\n      var paginator = inst.paginator;\n      var urlVideoTags = helpers.actions.getUrlParam(\"videoTags\");\n      options = options ? options : {};\n      var element = templateList.list[label].element;\n      if (!element) {\n        throw `Sorry but no element was found with for the label ${label}`;\n      }\n      var action = \"list\";\n      var pagination = options.pagination;\n      delete options.pagination;\n      var filterList = options.filterList\n        ? options.filterList\n        : element.dataset;\n\n      if (urlVideoTags) {\n        filterList.tags =\n          filterList.tags && filterList.tags.length\n            ? filterList.tags + \",\" + urlVideoTags\n            : (filterList.tags = urlVideoTags);\n      }\n      var query = {};\n      middleware.preRenderActions({ element: element }, action);\n      var that = this;\n      var renderVids = function(videoList, filterList, template) {\n        that = that.renderEngine ? that : that.listComponent;\n        that.renderEngine.render(element, videoList, template);\n        middleware.postRenderActions({\n          element: element,\n          loaderLabel: filterList.aweList\n        });\n      };\n      if (options.videoList) {\n        paginator.render(label, options.pagination, filterList);\n        return renderVids(videoList, filterList, template);\n      }\n      inst.requestProcessor.processor(action, filterList, function(response) {\n        var videoList = response.data.videos;\n        paginator.render(label, response.data.pagination, filterList);\n        renderVids(videoList, filterList, template);\n      });\n    } catch (exception) {\n      console.log(\"err:\", exception);\n    }\n  }\n}\n\nexport { ListComponent };\n","class Paginator {\n  constructor(listComponent, deps) {\n    this.tagQueryMap = deps.tagQueryMap;\n    this.helpers = deps.helpers;\n    this.templateList = deps.templateList;\n    this.listVideos = listComponent.listVideos;\n    this.listComponent = listComponent;\n  }\n  render(label, pageData, filterList) {\n    if (!this.templateList.paginators[label]) {\n      return;\n    }\n    var templateList = this.templateList;\n    var element = templateList.paginators[label].element;\n    var pagertemplate = templateList.paginators[label].template;\n    var pagerLength = element.dataset.pagerLength;\n    var paginatorSize = pagerLength ? pagerLength : 7;\n    var paginatorSize =\n      pageData.totalPages < paginatorSize ? pageData.totalPages : paginatorSize;\n\n    var template = pagertemplate.querySelector(\n      `[${this.tagQueryMap[\"pageNumbers\"].raw}]`\n    );\n    var prevBtn = pagertemplate.querySelector(\n      `[${this.tagQueryMap[\"pagePrevious\"].raw}]`\n    );\n    var nextBtn = pagertemplate.querySelector(\n      `[${this.tagQueryMap[\"pageNext\"].raw}]`\n    );\n    element.innerHTML = \"\";\n    var pager =\n      pageData.currentPage < paginatorSize\n        ? { startFrom: 1, endAt: paginatorSize }\n        : this.helpers.actions.generatePager(\n            pageData.currentPage,\n            paginatorSize\n          );\n    var prevCount = parseInt(pageData.currentPage) - 1;\n    if (prevBtn && prevCount > 0) {\n      element.appendChild(prevBtn.cloneNode(true)).onclick = this.flipPageFunc(\n        label,\n        filterList,\n        prevCount\n      );\n    }\n    for (var i = pager.startFrom; i <= parseInt(pager.endAt); i++) {\n      if (parseInt(pageData.totalPages) == i) {\n        break;\n      }\n      var liveTemplate = template.cloneNode(true);\n      liveTemplate.innerHTML = i;\n      pageData.currentPage == i\n        ? liveTemplate.classList.add(\"active\")\n        : liveTemplate.classList.remove(\"active\");\n\n      liveTemplate.onclick = this.flipPageFunc(label, filterList, i);\n      element.appendChild(liveTemplate);\n    }\n    var nextCount = pageData.currentPage + 1;\n    if (nextBtn && nextCount < pageData.totalPages) {\n      element.appendChild(nextBtn.cloneNode(true)).onclick = this.flipPageFunc(\n        label,\n        filterList,\n        nextCount\n      );\n    }\n  }\n  flipPageFunc(label, options, count) {\n    var that = this;\n    return function() {\n      options.pageIndex = count;\n      var template = that.templateList.list[label].template.innerHTML;\n      that.listVideos(label, options, template, that.listComponent);\n    };\n  }\n}\n\nexport { Paginator };\n","class SearchComponent {\n  constructor(listComponent, deps) {\n    this.templateList = deps.templateList;\n    this.helpers = deps.helpers;\n    this.listComponent = listComponent;\n  }\n  prepareSearchEvent(searchBtnElement) {\n    var that = this;\n    searchBtnElement.onclick = function() {\n      var helpers = that.helpers;\n      var templateList = that.templateList;\n      var listComponent = that.listComponent;\n\n      var listLabel = this.dataset.aweSearchBtn;\n      var template = templateList.list[listLabel].template.innerHTML;\n      templateList.list[listLabel].element.dataset.pageIndex = 1;\n      var filterList = templateList.list[listLabel].element.dataset;\n      var element = helpers.actions.getElement(listLabel, \"searchInp\");\n      if (!element) {\n        throw `Sorry but it looks like you don't have a search box in place for search ie: <input data-awe-search=\"popular\" />`;\n      }\n      var searchWords = element.value;\n      filterList.tags =\n        searchWords.split(\" \").length == 2\n          ? searchWords\n          : searchWords.replace(/ /g, \",\");\n      listComponent.listVideos(\n        listLabel,\n        {\n          filterList: filterList\n        },\n        template\n      );\n    };\n  }\n}\n\nexport { SearchComponent };\n","class VideoPlayerComponent {\n  constructor(requestProcessor, renderEngine, middleware, helpers, deps) {\n    this.middleware = middleware;\n    this.requestProcessor = requestProcessor;\n    this.renderEngine = renderEngine;\n    this.helpers = helpers;\n    this.env = deps.env;\n  }\n  playVideo(element) {\n    const playerId = Math.random();\n    var dataSets = element.dataset;\n    var urlParams = new URLSearchParams(location.search);\n    var middleware = this.middleware;\n    var helpers = this.helpers;\n    var connectionObj = this.env;\n    var videoId = urlParams.get(\"videoId\")\n      ? urlParams.get(\"videoId\")\n      : dataSets.videoid;\n\n    if (!videoId) {\n      return;\n    }\n\n    element.dataset.aweContainerId = playerId;\n    element.classList.add(\"awe-player\");\n    middleware.preRenderActions({ element: element }, \"player\");\n    var that = this;\n    this.requestProcessor.processor(\"details/\" + videoId, dataSets, function(\n      response\n    ) {\n      if (!response.data.playerEmbedUrl) {\n        console.error(\"contentHash could not be resolved\");\n      }\n      that.renderEngine.render(element, [response.data]);\n      middleware.postRenderActions({\n        element: element,\n        loaderLabel: element.dataset.awePlayer\n      });\n\n      var url = new URL(response.data.playerEmbedUrl);\n      var contentHash = url.searchParams.get(\"contentHash\");\n      try {\n        var container = (function() {\n          var container = document.querySelector(\n            `div[data-awe-container-id=\"${playerId}\"]`\n          );\n\n          if (!container) {\n            console.warn(\"Promotool container not found\");\n\n            return container;\n          }\n\n          container.removeAttribute(\"data-awe-container-id\");\n          return container;\n        })();\n        var params = that.helpers.actions.queryToParams(dataSets);\n        var psid = connectionObj.psid;\n        var accessKey = connectionObj.accessKey;\n        var iframeElement = document.createElement(\"iframe\");\n        iframeElement.src = `//pt.protoawe.com/tube-player/${params}&psid=${psid}&accessKey=${accessKey}&contentHash=${contentHash}&psprogram=REVS&c=p`;\n        iframeElement.style.width = \"100%\";\n        iframeElement.style.height = \"100%\";\n        iframeElement.frameBorder = 0;\n        iframeElement.setAttribute(\"allowfullscreen\", \"true\");\n\n        container.prepend(iframeElement);\n      } catch (exception) {\n        console.error(\"Promotool error: \" + exception.message);\n      }\n    });\n  }\n}\n\nexport { VideoPlayerComponent };\n","import { tagQueryMap } from \"tagQueryMap\";\nvar connectionEl = document.querySelectorAll(\n  `[${tagQueryMap[\"connection\"].raw}]`\n);\nif (!connectionEl.length) {\n  throw \"Sorry but you need to set your connection details\";\n}\nconst connections = connectionEl[0].dataset;\nconst connectionObj = {\n  psid: connections.awePsid,\n  accessKey: connections.aweAccesskey,\n  clientIp: connections.aweClientip\n};\n\nexport { connectionObj as env };\n","var helpers = {};\n\n//style changes\nhelpers.styles = {\n  hideElement: function(element) {\n    element.style.display = \"none\";\n  },\n  showElement: function(element) {\n    element.style.display = \"\";\n  }\n};\n\n//actions\nhelpers.actions = {\n  showOrHideComponent: function(componentTag, action, dataSet, label) {\n    var componentList = document.querySelectorAll(`[${componentTag}=${label}]`);\n    componentList.forEach(component => {\n      action == \"hide\"\n        ? helpers.styles.hideElement(component)\n        : helpers.styles.showElement(component);\n    });\n  },\n  removeLoader: function(label) {\n    helpers.actions.showOrHideComponent(\n      helpers.tagQueryMap[\"loader\"].raw,\n      \"hide\",\n      {\n        tag: \"aweLoader\"\n      },\n      label\n    );\n  },\n  showLoader: function(label) {\n    helpers.actions.showOrHideComponent(\n      helpers.tagQueryMap[\"loader\"].raw,\n      \"show\",\n      {\n        tag: \"aweLoader\"\n      },\n      label\n    );\n  },\n  hidePaginator: function(label) {\n    helpers.actions.showOrHideComponent(\n      helpers.tagQueryMap[\"pagination\"].raw,\n      \"hide\",\n      {\n        tag: \"awePaginate\"\n      },\n      label\n    );\n  },\n  showPaginator: function(label) {\n    helpers.actions.showOrHideComponent(\n      helpers.tagQueryMap[\"pagination\"].raw,\n      \"show\",\n      {\n        tag: \"awePaginate\"\n      },\n      label\n    );\n  },\n  getLabel: function(element, componentType) {\n    var labelKey = helpers.tagQueryMap[componentType].refined;\n    return element.dataset[labelKey];\n  },\n  getElement: function(label, componentType) {\n    return document.querySelector(\n      `[${helpers.tagQueryMap[componentType].raw}=${label}]`\n    );\n  },\n  savePaginatorTemplate: function(label, templateList) {\n    var element = document.querySelector(\n      `[${helpers.tagQueryMap[\"pagination\"].raw}=${label}]`\n    );\n    if (!element) {\n      return false;\n    }\n    templateList.paginators[label] = {};\n    templateList.paginators[label].element = element;\n    templateList.paginators[label].template = element.cloneNode(true);\n    return templateList;\n  },\n  generatePager: function(currentCount, wantedLength) {\n    var pageSplit = wantedLength / 2;\n    var leftCount = Math.floor(pageSplit);\n    var rightCount = Math.round(pageSplit);\n    var startFrom =\n      currentCount > leftCount ? currentCount - leftCount : currentCount;\n    var endAt = currentCount + rightCount - 1;\n    endAt =\n      endAt - startFrom != wantedLength\n        ? parseInt(startFrom) + parseInt(wantedLength) - 1\n        : endAt;\n    return { startFrom: startFrom, endAt: endAt };\n  },\n  getUrlParam: function(param) {\n    var url_string = window.location.href;\n    var url = new URL(url_string);\n    return url.searchParams.get(param);\n  },\n  getRandomArr: function(arr, n) {\n    var result = new Array(n),\n      len = arr.length,\n      taken = new Array(len);\n    if (n > len)\n      throw new RangeError(\"getRandom: more elements taken than available\");\n    while (n--) {\n      var x = Math.floor(Math.random() * len);\n      result[n] = arr[x in taken ? taken[x] : x];\n      taken[x] = --len in taken ? taken[len] : len;\n    }\n    return result;\n  },\n\n  replaceAll: function(target, search, replacement) {\n    return target.split(search).join(replacement);\n  },\n  queryToParams: function(query) {\n    var str = [];\n    for (var p in query)\n      if (query.hasOwnProperty(p)) {\n        str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(query[p]));\n      }\n    return \"?\" + str.join(\"&\");\n  }\n};\n\nexport { helpers };\n","import { env } from \"connection\";\nimport { helpers } from \"helpers\";\nimport { Middleware } from \"middleware\";\nimport { tagQueryMap } from \"tagQueryMap\";\nimport { RenderEngine } from \"renderEngine\";\nimport { Paginator } from \"components/paginator\";\nimport { RequestProcessor } from \"requestProcessor\";\nimport { ListComponent } from \"components/listVideoComponent\";\nimport { SearchComponent } from \"components/searchComponent\";\nimport { VideoPlayerComponent } from \"components/videoPlayerComponent\";\nwindow.onload = function() {\n  var listElements = document.querySelectorAll(`[${tagQueryMap[\"list\"].raw}]`);\n  var players = document.querySelectorAll(`[${tagQueryMap[\"player\"].raw}]`);\n  var searchBtnList = document.querySelectorAll(\n    `[${tagQueryMap[\"searchBtn\"].raw}]`\n  );\n  var tagList = document.querySelectorAll(`[${tagQueryMap[\"tags\"].raw}]`);\n\n  var templateList = { list: {}, paginators: {} };\n  if (!listElements.length && !players.length) {\n    return;\n  }\n\n  helpers.tagQueryMap = tagQueryMap;\n  var deps = {\n    tagQueryMap: tagQueryMap,\n    helpers: helpers,\n    templateList: templateList,\n    env: env\n  };\n  var middleware = new Middleware(deps);\n  var requestProcessor = new RequestProcessor(deps);\n  var renderEngine = new RenderEngine(deps);\n  var listComponent = new ListComponent(\n    requestProcessor,\n    middleware,\n    Paginator,\n    renderEngine,\n    deps\n  );\n  var videoPlayerComponent = new VideoPlayerComponent(\n    requestProcessor,\n    renderEngine,\n    middleware,\n    helpers,\n    deps\n  );\n  var searchComponent = new SearchComponent(listComponent, deps);\n\n  listElements.forEach(element => {\n    middleware.preRenderActions({ element: element }, \"list\");\n    var label = helpers.actions.getLabel(element, \"list\");\n    templateList = helpers.actions.savePaginatorTemplate(label, templateList);\n    listComponent.listVideos(label);\n  });\n\n  players.forEach(element => {\n    videoPlayerComponent.playVideo(element);\n  });\n  searchBtnList.forEach(searchBtnElement => {\n    searchComponent.prepareSearchEvent(searchBtnElement);\n  });\n\n  //Tags to be added later\n  // tagList.forEach(element => {\n  //   middleware.preRenderActions({ element: element }, \"tags\");\n  //   var label = helpers.actions.getLabel(element, \"tags\");\n  //   listTags(label);\n  // });\n};\n","//actions to preform before rendering\nclass Middleware {\n  constructor(deps) {\n    this.tagQueryMap = deps.tagQueryMap;\n    this.templateList = deps.templateList;\n    this.helpers = deps.helpers;\n  }\n  preRenderActions(payload, componentType) {\n    var templateList = this.templateList;\n    var helpers = this.helpers;\n    var label =\n      payload.element.dataset[this.tagQueryMap[componentType].refined];\n    if (!label) {\n      throw 'Sorry but you need to label your list template eg: `data-awe-list=\"popular\"`';\n    }\n    label = label.toLowerCase();\n    if (!templateList.list[label]) {\n      templateList.list[label.toLowerCase()] = {\n        element: payload.element,\n        template: payload.element.cloneNode(true),\n        data: payload.data\n      };\n    }\n    helpers.actions.showLoader(label);\n    helpers.actions.hidePaginator(label);\n    helpers.styles.hideElement(payload.element);\n  }\n\n  //actions to preform after rendering\n  postRenderActions(payload) {\n    var helpers = this.helpers;\n    helpers.actions.removeLoader(payload.loaderLabel);\n    helpers.actions.showPaginator(payload.loaderLabel);\n    helpers.styles.showElement(payload.element);\n  }\n}\nexport { Middleware };\n","class RenderEngine {\n  //responsible for rendering list views\n  constructor(deps) {\n    this.helpers = deps.helpers;\n  }\n  render(element, dataGrp, prepTemplate) {\n    var template = prepTemplate ? prepTemplate : element.innerHTML;\n    element.innerHTML = \"\";\n    var completeTemplate = \"\";\n    dataGrp.forEach(data => {\n      var liveTemplate = template;\n      if (typeof data == \"string\") {\n        liveTemplate = liveTemplate.replaceAll(\"@tag\", data);\n      } else {\n        for (var key in data) {\n          if (typeof data[key] == \"object\") {\n            var count = 0;\n            var innerData = data[key];\n            for (var key2 in innerData) {\n              liveTemplate = this.helpers.actions.replaceAll(\n                liveTemplate,\n                \"@\" + key + \".\" + count,\n                innerData[key2]\n              );\n              count++;\n            }\n            count = 0;\n          } else {\n            var value = data[key];\n            value =\n              key == \"duration\"\n                ? Math.floor(parseFloat(value) / 60).toFixed(2)\n                : value;\n            liveTemplate = this.helpers.actions.replaceAll(\n              liveTemplate,\n              \"@\" + key,\n              value\n            );\n          }\n        }\n      }\n      element.innerHTML += liveTemplate;\n    });\n  }\n}\nexport { RenderEngine };\n","class RequestProcessor {\n  constructor(deps) {\n    this.config = deps.env;\n    this.helpers = deps.helpers;\n  }\n  processor(action, filters, callback) {\n    var params = this.helpers.actions.queryToParams(\n      Object.assign(filters, this.config)\n    );\n    const url =\n      \"https://pt.ptawe.com/api/video-promotion/v1/\" + action + params;\n    console.info(url);\n    const requestConfig = {\n      method: \"GET\",\n      credentials: \"same-origin\",\n      headers: { \"X-Requested-With\": \"XMLHttpRequest\" }\n    };\n    fetch(url, requestConfig)\n      .then(response => response.json())\n      .then(result => callback(result))\n      .catch(\n        error =>\n          function(error) {\n            console.error(error);\n          }\n      );\n  }\n}\nexport { RequestProcessor };\n","var tagQueryMap = {\n  list: { raw: \"data-awe-list\", refined: \"aweList\" },\n  player: { raw: \"data-awe-player\", refined: \"awePlayer\" },\n  searchBtn: { raw: \"data-awe-search-btn\", refined: \"aweSearchBtn\" },\n  searchInp: { raw: \"data-awe-search\", refined: \"aweSearch\" },\n  connection: { raw: \"data-awe-connection\", refined: \"aweConnection\" },\n  loader: { raw: \"data-awe-loader\", refined: \"aweLoader\" },\n  tags: { raw: \"data-awe-tags\", refined: \"aweTags\" },\n  pagination: { raw: \"data-awe-paginate\", refined: \"awePaginate\" },\n  pageNumbers: { raw: \"data-pager-numbers\", refined: \"pagerNumbers\" },\n  pagePrevious: { raw: \"data-pager-previous\", refined: \"pagerPrevious\" },\n  pageNext: { raw: \"data-pager-next\", refined: \"pagerNext\" }\n};\n\nexport { tagQueryMap };\n"],"sourceRoot":""}